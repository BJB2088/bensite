<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Interactive Sierpinski Triangle</title>
</head>
<body>

<svg id="sierpinski" width="600" height="600" style="border:1px solid black;"></svg>

<script>
function drawTriangle(svg, x1, y1, x2, y2, x3, y3, depth) {
    if(depth === 0) {
      var triangle = document.createElementNS("http://www.w3.org/2000/svg", 'polygon');
      triangle.setAttribute("points", `${x1},${y1} ${x2},${y2} ${x3},${y3}`);
      triangle.setAttribute("stroke", "black");
      triangle.setAttribute("fill", "none");
      svg.appendChild(triangle);
      return;
    }

    var xm1 = (x1 + x2) / 2;
    var ym1 = (y1 + y2) / 2;
    var xm2 = (x2 + x3) / 2;
    var ym2 = (y2 + y3) / 2;
    var xm3 = (x1 + x3) / 2;
    var ym3 = (y1 + y3) / 2;

    drawTriangle(svg, x1, y1, xm1, ym1, xm3, ym3, depth - 1);
    drawTriangle(svg, x2, y2, xm1, ym1, xm2, ym2, depth - 1);
    drawTriangle(svg, x3, y3, xm2, ym2, xm3, ym3, depth - 1);
  }

  var svg = document.getElementById('sierpinski');
  drawTriangle(svg, 50, 550, 550, 550, 300, 50, 5);

  var viewBox = { x: 0, y: 0, width: 600, height: 600 };

  svg.addEventListener('wheel', function(e) {
    e.preventDefault();
    
    var zoomFactor = 1.1;
    var scale = e.deltaY < 0 ? zoomFactor : 1 / zoomFactor;
    
    // Get the position of the mouse within the SVG
    var rect = svg.getBoundingClientRect();
    var x = e.clientX - rect.left;
    var y = e.clientY - rect.top;

    // Convert mouse position from screen coordinates to viewBox coordinates
    var svgPoint = svg.createSVGPoint();
    svgPoint.x = x;
    svgPoint.y = y;
    var cursorPoint = svgPoint.matrixTransform(svg.getScreenCTM().inverse());
    
    // Update the viewBox values based on the zoom factor and cursor position
    viewBox.width /= scale;
    viewBox.height /= scale;
    viewBox.x = cursorPoint.x - (cursorPoint.x - viewBox.x) / scale;
    viewBox.y = cursorPoint.y - (cursorPoint.y - viewBox.y) / scale;
    
    svg.setAttribute("viewBox", `${viewBox.x} ${viewBox.y} ${viewBox.width} ${viewBox.height}`);
  });

</script>

</body>
</html>

  
